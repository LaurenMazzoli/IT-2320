<!DOCTYPE html>
<!-- saved from url=(0101)http://www.cosc.canterbury.ac.nz/csfieldguide/dev/dev/_static/widgets/DR/DR-color/CG-ColorBits_1.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>jQuery UI Slider - Colorpicker</title>
	
	
	<link rel="stylesheet" href="jquery-ui.css">
	<script src="jquery-1.9.1.js"></script>
	<script src="jquery-ui.js"></script>
	<script src="jquery.balloon.js"></script>
	
	<!--Android Compatible Touch-->
	<script src="jquery.ui.touch-punch.min.js"></script>

	<style>
	#helpButton
	{
	}

	.helper
	{
		display:none;
		position: absolute;
		left: 450px;
		top: 92px;	
		width:100px;
		text-align: center;
	}

	.mainContent
	{
		height: 180px;
	}
	
	.containerWidth
	{
		width:520px;
		
	}

	.add-shadow {
		-moz-box-shadow: 4px 4px 20px rgba(0,0,0,0.8);
		-webkit-box-shadow: 4px 4px 20px rgba(0,0,0,0.8);
		box-shadow: 4px 4px 20px rgba(0,0,0,0.8);
	}
	
	.add-embossed {
		/* Background */
		background: rgba(0.0, 0, 0, 0.2);
	 
		/* Border bottom light */
		border-bottom: 1px solid rgba(255, 255, 255, 0.1);
	 
		/* Inner top shadow */
		-moz-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.5);
		-webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.5);
		box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.5);
	 
		/* Round corners */
		-webkit-border-radius: 10px;
		-moz-border-radius: 10px;
		border-radius: 10px;	
	}
	
	.add-text-embossed
	{
		 text-shadow: #fff 0px 1px 0, #000 0 -1px 0;
	}
	
	barslider { float:left; }

	#red8, #green8, #blue8, #red3, #green3, #blue2 {
		width: 180px;
		float:left;
		margin-bottom: 15px;
	}
	
	#red8value, #green8value, #blue8value, #red3value, #green3value, #blue2value {
		width: 30px;
		float: left;
		text-align: center;
		margin-left: 12px;
		margin-top: -4px;
		font-family: Georgia, "Times New Roman", Times, serif;
		padding: 4px 0 1px 0;
		font-weight: bold;
		font-size: 12px;
		
	}
	
	#swatch {
		width: 130px;
		height: 130px;
		margin-top: 18px;
		margin-left: 250px;
		background-image: none;
	}
	
	.ui-slider-handle { border-color: #729fcf;
		-moz-box-shadow: 2px 4px 8px rgba(0,0,0,0.5);
		-webkit-box-shadow: 2px 4px 8px rgba(0,0,0,0.5);
		box-shadow: 2px 4px 8px rgba(0,0,0,0.5);
		outline: none; 
	}
	
	#red8 .ui-slider-range { background: #ef2929; }
	#red8 .ui-slider-handle { border-color: #ef2929;}
	#green8 .ui-slider-range { background: #8ae234; }
	#green8 .ui-slider-handle { border-color: #8ae234;}
	#blue8 .ui-slider-range { background: #729fcf; }
	#blue8 .ui-slider-handle { border-color: #729fcf; }
	
	#red3 .ui-slider-range { background: #ef2929; }
	#red3 .ui-slider-handle { border-color: #ef2929;}
	#green3 .ui-slider-range { background: #8ae234; }
	#green3 .ui-slider-handle { border-color: #8ae234;}
	#blue2 .ui-slider-range { background: #729fcf; }
	#blue2 .ui-slider-handle { border-color: #729fcf;}
	
	.ui-slider-tick-mark{
		display:inline-block;
		width:1px;
		background:black;
		height:5px;
		position:absolute;
		top:15px;
		z-index: 0; 
	}
	</style>
</head>

<body class="ui-widget-content" style="border: 0;">

<div id="container" style="width:530px">
	<div id="header" style="background-color:#FFFFFF;">
		<p class="ui-state-default ui-corner-all ui-helper-clearfix" style="padding: 4px; margin: 2px 0px 2px 0px;">
		<strong> <em>24bit RGB Color </em> </strong>
		</p>
	</div>
	
	<div class="ui-state-default ui-corner-all ui-helper-clearfix">
		<div id="content" class="mainContent" style="width:260px; float:left;">
			<canvas id="hexagons" width="250" height="220" style="border:0px solid #d3d3d3;z-index:1;">
			Your browser does not support the HTML5 canvas tag.
			</canvas>
		</div>

		<div class="mainContent" style="width:220px; margin-top: 8px; float:left;">
			<div class="24bitslidersBubble" style="width:250px; height:50%;float:left;">
				<p style="
					margin-top: 28px;
					margin-bottom: 5px;
				">24bit</p>
				<div id="red8" class="allSliders 24bitgroup add-embossed ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all ui-draggable" aria-disabled="false"><div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min" style="width: 8.23529%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://www.cosc.canterbury.ac.nz/csfieldguide/dev/dev/_static/widgets/DR/DR-color/CG-ColorBits_1.html#" style="left: 8.23529%;"></a></div>
				<div id="red8value" class="8bitgroup add-embossed" style="background-color:#FF4040">21</div>
					 
				<div id="green8" class="allSliders 24bitgroup add-embossed ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all ui-draggable" aria-disabled="false"><div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min" style="width: 69.4118%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://www.cosc.canterbury.ac.nz/csfieldguide/dev/dev/_static/widgets/DR/DR-color/CG-ColorBits_1.html#" style="left: 69.4118%;"></a></div>
				<div id="green8value" class="add-embossed" style="background-color:#40FF40">177</div>
					 
				<div id="blue8" class="allSliders 24bitgroup add-embossed ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all ui-draggable" aria-disabled="false"><div class="ui-slider-range ui-widget-header ui-corner-all ui-slider-range-min" style="width: 23.9216%;"></div><a class="ui-slider-handle ui-state-default ui-corner-all" href="http://www.cosc.canterbury.ac.nz/csfieldguide/dev/dev/_static/widgets/DR/DR-color/CG-ColorBits_1.html#" style="left: 23.9216%;"></a></div>
				<div id="blue8value" class="add-embossed" style="background-color:#729fcf">61</div>
			</div>			
		</div>
	</div>

	<div id="footer" style="background-color:#FFFFFF;clear:both;text-align:center ">
	<p class="ui-state-default ui-corner-all ui-helper-clearfix" style="padding: 4px; margin: 2px 0px 2px 0px; ">
		<span class="ui-icon ui-icon-pencil" style="float: left; margin: -2px 1px 0 0;"></span>
		Info
	</p>
	</div>

</div>



<script>
		// 255 200 238
		var color_select_24bit = "#FFC8EE";
		var color_24bit = "#000000";
		console.log("ver 2.1");
		var timer = null;
		
		$(function() {
		var $r8 = $("#red8"), $g8 = $("#green8"), $b8 = $("#blue8"); 
		var $r8text = $('#red8value'), $g8text = $('#green8value'), $b8text = $('#blue8value');
		
		function hexFromRGB(r, g, b) {
			
			r = Math.floor(r);
			g = Math.floor(g);
			b = Math.floor(b);

			var hex = [
				r.toString( 16 ),
				g.toString( 16 ),
				b.toString( 16 )
			];
		
			$.each( hex, function( nr, val ) {
				if ( val.length === 1 ) {
					hex[ nr ] = "0" + val;
				}
			});
			return "#" + hex.join( "" ).toUpperCase();
		}
		
		function hexToRgb(hex) {
			// Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")
			var shorthandRegex = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
			hex = hex.replace(shorthandRegex, function(m, r, g, b) {
				return r + r + g + g + b + b;
			});

			var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
			return result ? {
				r: parseInt(result[1], 16),
				g: parseInt(result[2], 16),
				b: parseInt(result[3], 16)
			} : null;
		}
		
		function setSliderTicks($slider){
			var width = $slider.width();
			var max =  $slider.slider("option", "max");    
			var step = $slider.slider("option", "step");  
			var ws = width/max;
			
			$slider.find('.ui-slider-tick-mark').remove();
			for (var i = 1; i < max; i++) {
				$('<span class="ui-slider-tick-mark"></span>').css('left', (ws * i) +  'px').appendTo($slider); 
			}
		}

		function updateColor()
		{
			color_24bit = hexFromRGB($r8.slider("value"), 
									 $g8.slider("value"), 
									 $b8.slider("value"));
		}
		
		
		//called by slider change
		function update(event, ui) {
			
			
			if(ui != null) //system called not me
			{			
				if($(this).slider("value") != ui.value) {
					$(this).slider("value", ui.value); //fix drag, instant update
				}
			}
			
			updateColor();
			
			//update text
			$r8text.text($r8.slider("value"));
			$g8text.text($g8.slider("value"));
			$b8text.text($b8.slider("value"));
			
			if (timer == null) timer = window.setTimeout(function()
			{
			  animate(); 
			  timer = null;
			}, 50);
		}

		$( "#red8, #green8, #blue8" ).slider({
			orientation: "horizontal",
			range: "min",
			max: 255,
			value: 60
		});

		$('.allSliders').each(function()
		{ 
			$(this).slider("value", Math.random() * $(this).slider("option", "max"));
		});
		
		$(".allSliders").slider({
		  change: update,
		  slide: update
		});
		
		$(".allSliders").draggable();
		
		
		function pad(n, width, z) {
			z = z || '0';
			n = n + '';
			return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
		}

		var c=document.getElementById("hexagons");
		var ctx=c.getContext("2d");
		
		function hexigon(ctx, width, height, fillColor)
		{
			ctx.fillStyle = fillColor;
			ctx.moveTo(0.00, 0.0);
			ctx.lineTo(0.25 * width,-1.0 * height/2);
			ctx.lineTo(0.75 * width,-1.0 * height/2);
			ctx.lineTo(1.00 * width, 0.0 * height/2);
			ctx.lineTo(0.75 * width, 1.0 * height/2);
			ctx.lineTo(0.25 * width, 1.0 * height/2);
			ctx.closePath();
			ctx.fill();
		}
	
		function animate() {
			ctx.save();
			
			// clear
			ctx.clearRect(0, 0, c.width, c.height);
			ctx.shadowColor = 'black';
			ctx.shadowBlur = 20;
			ctx.shadowOffsetX = 5;
			ctx.shadowOffsetY = 5;

			ctx.scale(1.5,1.5);
			ctx.translate(20.0,65.0);
			hexigon(ctx, 120,100, color_24bit);
			ctx.restore();
		}
		
		animate();
		update(null,null);
		});
	</script>



</body></html>